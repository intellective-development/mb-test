<% content_for :auth_tokens, true %>
<% content_for :title, 'Coverage Map' %>
<% content_for :bottom do -%>
  <%= javascript_include_tag 'generated/admin_bundle' %>
  <script src="//maps.google.com/maps/api/js?v=3.27&amp;libraries=geometry,drawing&amp;key=<%= Settings.google.maps_api_key %>" type="text/javascript"></script>
  <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
  <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script>
  <%= javascript_include_tag "admin/gmaps_google" %>
<% end %>

<div class="delivery-zone-coverage" id="delivery-zone-coverages"></div>

<%= content_for :bottom do %>
  <script type="text/javascript">
    var component_config_block = [
      {
          selector: "delivery-zone-coverages",
          component: 'DeliveryZoneCoverages',
          options: {}
        }
    ];

    function ready(fn) {
      if (document.readyState != 'loading'){
        fn();
      } else {
        document.addEventListener('DOMContentLoaded', fn);
      }
    }
    ready(function(){
      window.initComponents(component_config_block);
    });
  </script>
<% end %>
